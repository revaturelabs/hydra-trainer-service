language: java

addons:
  sonarcloud:
    organization: hall-github
    token:
      secure: b/7u2nvvND5MQ2ouYk45b9bTXpSYX1U4laOYOZfS+fp8nhHKOxw5xUJvzbY55G9mBRFu4rksOv8PG5o5v1znusl5OnR5vMKaf7gwhTEwsZpFiIwItwP7fe3Xrd6QRlXX08QKoMhqWst1YAwUgKKLz6dh7o+egMe/ZcYXRlrVrntIeS+KmWSVT1yfSEzCok9IMiDmqEM2ups767lX+dWTb6Tfvxo4h3iSKHsEEqEjAITY52Yb2S64p00UPuJEdHm+J7DFje0mKkFmwa075TRq+Si0g5KzXOv7ZNY4AA8KBdt5KB3TEo4SmfxdCegVMH+Eyzd1c4qVQDDNJ58lIFop3tJrReA6CQ2eS6Qz7+MjXr5drDXntUVkSWp5ELWFiUWBAG/SmkN9N0vrWCIws0vFXdqsor8EDYYvo/2DYjSkMaGL70J0y2uVPNF958mdI1ByG+UfLsmOs1Nou2dOCvQw6RBasfg3UM0OdYTFH3vDk8OgVbTqE9HFhexov1fTV0FXc2l2QW3+804NKN6DZaEFv59S82LIQUfX2MioH3BIZWMB9e791XaW/mHwQRZ9Y/S5MWqmmdJhe3rg8xC23VH6c2lrijaaH1/WNCbuNTk+eWmrCjIRLjim7GS1GyquBEGmEda08joZCb8GElAfRKY/opKhbnGDWLCPY8oHrN4d5Wk=

script:
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

deploy:
  skip_cleanup: true
  provider: cloudfoundry
  api: https://api.run.pivotal.io
  username: email@bryton.io
  password:
    secure: EcPLGw3NhLxQEXzruIGJtarBGuttV6M1oeMKjdivPlfgNGjw490a+9a9XPuKR8Knt4mlbFfpMXT1KjNumXSzqrPiGCflUb8pyB9Ekwn/Dd5Ze0dAIglzB6tOlMoqTkB0rPnG3PEFae8undTAKvTLXZRpRfHQ1MrhLCtzdaojUhilYDtIUqFURvo2UPqh82Io+FwFe+BMYOTd5BKH25PfrCc72HsReE8+y+NLB04bISyM3bEPKghRS2APAaTJrTizbrVs8IUXm6z/KJXi+ejNW75RLO2VfUvbggEE5vd58S+8O89+MOlIXZiT5IXmLeDPc7ozSx4geYJsCw58f54cRVtKOYLLze97sqwcCmNDjqSZV4M5gsfPph/iEbWoj3Q4fF2Mpr+lqVYUknvbluAc+6QlQPzbRK/jyI5qicO/1+b8dULBw3jevTEquZDK0QafB7opAU6YHI23PEIdEbfrtCbBxKqLLgNeA4e5rkKPuBxW+0RnRmZw1T/PkuYBP9VudaN7tOOShn8OK1HjUWzMLXrls6nELw+RNN7X+FrAWEK30Pmg0aJ+jbKSVnRnf9WK/+TuVQhBOozPRmOWWwP4P/dRujA4kJp/giOt+LHOB8wFlJKO60FtwECiso9DdwP7iAEVbToW5a+sQssYHpodLSONRuxLVc172QEuS7TSaQI=
  organization: august-duet.org
  space: development
  on:
    repo: revaturelabs/hydra-trainer-service
    branch: develop

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
